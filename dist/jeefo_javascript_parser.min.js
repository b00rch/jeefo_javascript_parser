/**
 * jeefo_javascript_parser : v0.0.7
 * Author                  : je3f0o, <je3f0o@gmail.com>
 * Homepage                : https://github.com/je3f0o/jeefo_javascript_parser
 * License                 : The MIT License
 * Copyright               : 2017
 **/
!function(e,t,n){"use strict";e.use(function(e){var t=e.module("jeefo_javascript_parser",["jeefo_tokenizer"]);t.namespace("parser.SymbolsTable",["object.assign","JeefoObject"],function(e,t){var n=function(e){this.is=e.is,this.Token=function(){}};n.prototype={assign:e,inherit:function(e,t){this.assign(this.Token.prototype,e,t)}};var r=function(e,n,r){this.constructors=e||new t,this.statement_symbols=r||new t,this.expression_symbols=n||new t};return r.prototype={assign:e,Handler:n,SymbolsTable:r,handler:function(e){return new this.Handler(e)},sort_handler:function(e,t){return e.Token.prototype.precedence-t.Token.prototype.precedence},copy:function(){return new this.SymbolsTable(this.constructors.$copy(),this.expression_symbols.$copy(),this.statement_symbols.$copy())},register_constructor:function(e,t,n){return this.constructors[e]=t,this.assign(t.prototype,this.expression_default_prototypes,n),t.prototype.type=e,t.prototype.on_register&&t.prototype.on_register(t.prototype,this),this},register_expression:function(e,t,n){var r=this.handler(t);return r.inherit(this.expression_default_prototypes,t.protos),void 0===n?r.Token.prototype.type+="Expression":n&&(r.Token.prototype.type+=n),this.constructors[r.Token.prototype.type]=r.Token,r.Token.prototype.on_register&&r.Token.prototype.on_register(r.Token.prototype,this),this.expression_symbols.hasOwnProperty(e)?(this.expression_symbols[e].push(r),this.expression_symbols[e].sort(this.sort_handler)):this.expression_symbols[e]=[r],this},register_statement:function(e,t){var n=this.handler(t);return n.inherit(this.statement_default_prototypes,t.protos),void 0===t.suffix?n.Token.prototype.type+="Statement":t.suffix&&(n.Token.prototype.type+=t.suffix),this.constructors[n.Token.prototype.type]=n.Token,n.Token.prototype.on_register&&n.Token.prototype.on_register(n.Token.prototype,this),this.statement_symbols.hasOwnProperty(e)?(this.statement_symbols[e].push(n),this.statement_symbols[e].sort(this.sort_handler)):this.statement_symbols[e]=[n],this},get_expression:function(e,t,n){var r=this.expression_symbols[t[n].type];if(r)for(var i=r.length-1;i>=0;--i)if(!r[i].is||r[i].is(t[n],t,n)){var s=new r[i].Token;return s.initialize&&s.initialize(t,n,e),s}},get_statement:function(e,t,n){var r=e.current_expression,i=this.statement_symbols[r.type];if(i)for(var s=i.length-1;s>=0;--s)if(!i[s].is||i[s].is(r,t,n))return r=new i[s].Token,r.initialize&&r.initialize(t,n,e),r},expression_default_prototypes:{type:"Undefined",precedence:0},statement_default_prototypes:{type:"Undefined",precedence:3}},r}),t.namespace("javascript.SymbolsTable",["JeefoObject","object.assign","parser.SymbolsTable"],function(e,t,n){var r=function(t,n,r,i){this.constructors=t||new e,this.expression_symbols=n||new e,this.delimiter_symbols=r||new e,this.binary_expression_symbols=i||new e};return t(r.prototype,n.prototype,{SymbolsTable:r,copy:function(){return new this.SymbolsTable(this.constructors.$copy(),this.expression_symbols.$copy(),this.delimiter_symbols.$copy(),this.binary_expression_symbols.$copy())},delimiter:function(e){return this.delimiter_symbols[e]={type:"Delimiter",precedence:0,character:e},this},register_binary_expression:function(e,t){var n=this.handler(t);return n.inherit(t.protos),n.Token.prototype.type+="Expression",this.constructors[n.Token.prototype.type]=n.Token,n.Token.prototype.on_register&&n.Token.prototype.on_register(n.Token.prototype,this),this.binary_expression_symbols.hasOwnProperty(e)?(this.binary_expression_symbols[e].push(n),this.binary_expression_symbols[e].sort(this.sort_handler)):this.binary_expression_symbols[e]=[n],this},get_binary_expression:function(e,t,n){for(var r=this.binary_expression_symbols[t[n].type],i=r.length-1;i>=0;--i)if(!r[i].is||r[i].is(t[n],t,n)){var s=new r[i].Token;return s.initialize&&s.initialize(t,n,e),s}},literal:function(e,t){return t.protos.precedence=31,this.register_expression(e,t,"Literal")},statement:function(e,t){return this.register_expression(e,t,"Statement")},unary_expression:function(e,t){return this.register_expression(e,t,"Expression")},binary_expression:function(e,t){return this.register_binary_expression(e,t)},declaration_expression:function(e,t){return this.register_expression(e,t,t.suffix)}}),r}),t.namespace("javascript.Scope",function(){var e=function(e,t){this.tokens=e,this.symbols=t,this.token_index=-1,this.tokens_length=e.length};return e.prototype={Scope:e,$new:function(e){return new this.Scope(e,this.symbols)},parse:function(){var e=[];for(this.advance();this.current_expression;this.advance())this.current_expression.statement_denotation||(console.log("NOT FOUND STMT:",this.current_expression),console.log("NOT FOUND STMT protos:",this.current_expression.__proto__),console.log(this.current_token),process.exit()),e.push(this.current_expression.statement_denotation(this));return e},advance:function(e){this.token_index+=1,this.token_index<this.tokens_length?(this.current_token=this.tokens[this.token_index],this.symbols.delimiter_symbols.hasOwnProperty(this.current_token.value)?this.current_expression=this.symbols.delimiter_symbols[this.current_token.value]:this.current_expression=this.symbols.get_expression(this,this.tokens,this.token_index),e&&e!==this.current_token.value&&(console.log("EXPECT TOKEN VALUE",e,this.current_token),this.current_token.error_unexpected_token())):this.current_token=this.current_expression=null},advance_binary:function(){this.token_index+=1,this.token_index<this.tokens_length?(this.current_token=this.tokens[this.token_index],this.current_expression=this.symbols.delimiter_symbols[this.current_token.value],this.current_expression||(this.current_expression=this.symbols.get_binary_expression(this,this.tokens,this.token_index))):this.current_token=this.current_expression=null},expression:function(e){var t=this.current_expression;t.null_denotation&&(t=t.null_denotation(this)),this.current_expression&&!this.current_expression.left_denotation&&this.current_expression.precedence>e&&this.advance_binary();for(var n;this.current_expression&&e<this.current_expression.precedence;)t=this.current_expression.left_denotation(t,this),n===t&&(console.log(222222222222,t,this.current_token),process.exit()),n=t;return t}},e}),t.namespace("javascript.Parser",function(){var e=function(e,t,n){this.Scope=n,this.symbols=t,this.tokenizer=e};return e.prototype={Parser:e,copy:function(){return new this.Parser(this.tokenizer.copy(),this.symbols.copy(),this.Scope)},parse:function(e){var t=this.tokenizer.parse(e),n=new this.Scope(t,this.symbols);return n.code=e,n.parse(t)}},e}),t.namespace("javascript.es5_tokenizer",["tokenizer.Tokenizer"],function(e){var t=new e("ECMA Script 5");return t.regions.register({type:"Comment",name:"Inline comment",start:"//",end:"\n"}).register({type:"Comment",name:"Multi line comment",start:"/*",end:"*/"}).register({type:"String",name:"Double quote string",start:'"',escape_char:"\\",end:'"'}).register({type:"String",name:"Single quote string",start:"'",escape_char:"\\",end:"'"}).register({type:"Parenthesis",name:"Parenthesis",start:"(",end:")",contains:[{type:"Block"},{type:"Array"},{type:"String"},{type:"Comment"},{type:"Parenthesis"},{type:"SpecialCharacter",chars:["-","+","*","/","%","&","|","^","?",":","$","_","!","\\","=","<",">","`",".",",",";"]}]}).register({type:"Array",name:"Array literal",start:"[",end:"]",contains:[{type:"Block"},{type:"Array"},{type:"String"},{type:"Comment"},{type:"Parenthesis"},{type:"SpecialCharacter",chars:["-","+","*","/","%","&","|","^","?",":","$","_","!","\\","=","<",">","`",".",",",";"]}]}).register({type:"Block",name:"Block",start:"{",end:"}",contains:[{type:"Block"},{type:"Array"},{type:"String"},{type:"Comment"},{type:"Parenthesis"},{type:"SpecialCharacter",chars:["-","+","*","/","%","&","|","^","?",":","$","_","!","\\","=","<",">","`",".",",",";"]}]}),t});t.namespace("javascript.es5_symbols",["javascript.SymbolsTable"],function(e){var t=new e,n=function(e){return function(t,n,r){if(t.value===e){if(n[r+1]&&n[r+1].start.index===t.end.index)switch(n[r+1].type){case"Number":return!1;case"SpecialCharacter":return"_"!==n[r+1].value&&"$"!==n[r+1].value&&(t.op=t.value,t.index=r,!0)}return t.op=t.value,t.index=r,!0}}},r=function(e,t,n){this.type=this.type,this.operator=e[t].op,n.token_index=e[t].index},i=function(e,t){this.type=this.type,this.expression=t,this.start=e},s=function(e){e.ExpressionStatement=i},a=function(e){var t=new this.ExpressionStatement(e.current_token.start,e.expression(0));if(e.current_token){if(";"===e.current_token.value)return t.end=e.current_token.end,t;console.log(22222222,t,e.current_expression,e.current_token),e.current_token.error_unexpected_token()}return t.end=t.expression.end,t},o={type:"Boolean",initialize:function(e,t){this.type=this.type,this.value=e[t].name,this.start=e[t].start,this.end=e[t].end},on_register:s,statement_denotation:a},c={type:"Unary",precedence:16,initialize:r,null_denotation:function(e){var t=e.current_token.start;return e.advance(),this.argument=e.expression(16),this.is_prefix=!0,this.start=t,this.end=this.argument.end,this},on_register:s,statement_denotation:a},p={initialize_multi_characters_operator:r,protos:{initialize:function(){this.type=this.type},left_denotation:function(e,t){return this.left=e,t.advance(),this.right=t.expression(this.precedence),this.start=e.start,this.end=this.right.end,this}},make:function(e,t){return this.protos.type=e,this.protos.precedence=t,this.protos}},u={type:"Identifier",precedence:2,initialize:function(e,t,n){var r=t+1;this.type=this.type,this.name=e[t].value;e:for(;r<e.length;++r)switch(e[r].type){case"Number":case"Identifier":if(e[r-1].end.index!==e[r].start.index)break e;this.name+=e[r].value;break;case"SpecialCharacter":switch(e[r].value){case"$":case"_":if(e[r-1].end.index!==e[r].start.index)break e;this.name+=e[r].value;break;default:break e}break;default:break e}this.start=e[t].start,this.end=e[r-1].end,this.precedence=21,n.token_index=r-1},on_register:function(e){e.ExpressionStatement=i,e.LabeledStatement=function(){this.type=this.type},e.LabeledStatement.prototype.type="LabeledStatement"},expression_statement:a,statement_denotation:function(e){var t=e.current_expression,n=e.token_index;for(e.advance();e.current_expression&&"Comment"===e.current_expression.type;)e.advance();if(":"===e.current_token.value){var r=new this.LabeledStatement;return r.label=t,e.advance(),r.statement=e.current_expression.statement_denotation(e),r.start=e.tokens[n].start,r.end=r.statement.end,r}return e.token_index=n,e.current_token=e.tokens[n],e.current_expression=t,this.expression_statement(e)}};i.prototype.type="ExpressionStatement",t.delimiter(":").delimiter(")").delimiter("]").delimiter("}").binary_expression("SpecialCharacter",{is:function(e){return";"===e.value},protos:{type:"Delimiter",initialize:function(){this.type=this.type,this.character=";"},statement_denotation:function(e){return this.start=e.current_token.start,this.end=e.current_token.end,this}}}).literal("Identifier",{is:n("null"),protos:{type:"Null",initialize:function(e,t){this.type=this.type,this.start=e[t].start,this.end=e[t].end},on_register:s,statement_denotation:a}}).literal("SpecialCharacter",{is:function(e){return"["===e.value},protos:{type:"Array",initialize:function(e,t,n){this.type=this.type,this.elements=[],this.start=e[t].start;var r=0;for(n.advance();n.current_token&&"]"!==n.current_token.value;){for(;n.current_expression&&"Comment"===n.current_expression.type;)this.elements[r++]=n.current_expression,n.advance();","===n.current_token.value?this.elements[r++]=null:this.elements[r++]=n.expression(1),","===n.current_token.value&&n.advance()}this.end=n.current_token.end},on_register:s,statement_denotation:a}}).literal("Number",{protos:{type:"Number",EXPONENTIAL_REGEX:/^e|E\d+$/,initialize:function(e,t,n){this.type=this.type,this.value=e[t].value,this.start=e[t].start,e[t+1]&&"."===e[t+1].value&&e[t+1].start.index===e[t].end.index&&(this.value+=".",n.token_index=t+=1),e[t+1]&&"Number"===e[t+1].type&&e[t+1].start.index===e[t].end.index&&(this.value+=e[t+1].value,n.token_index=t+=1),e[t+1]&&"Identifier"===e[t+1].type&&this.EXPONENTIAL_REGEX.test(e[t+1].value)&&e[t+1].start.index===e[t].end.index&&(this.value+=e[t+1].value,n.token_index=t+=1),this.end=e[t].end},on_register:s,statement_denotation:a}}).literal("SpecialCharacter",{is:function(e){return'"'===e.value||"'"===e.value},protos:{type:"String",initialize:function(e,t,n){this.type=this.type;for(var r=e[t].value,i=t+1;i<e.length;++i)if("\\"!==e[i].value){if(e[i].value===r)return n.token_index=i,this.value=n.code.substr(e[t].start.index+1,e[i].end.index-e[t].start.index-2),this.quote=r,this.start=e[t].start,void(this.end=e[i].end)}else i+=1},on_register:s,statement_denotation:a}}).literal("SpecialCharacter",{is:function(e){return"/"===e.value},protos:{type:"RegExp",REGEX_FLAGS:"gimuy",initialize:function(e,t,n){for(var r,i="",s=t+1;e[s];)if("\\"!==e[s].value){if("/"===e[s].value){r=n.code.substr(e[t].start.index+1,e[s].end.index-e[t].start.index-2),n.token_index=s;break}s+=1}else s+=2;if(e[s+1]&&e[s+1].start.index===e[s].end.index&&"Identifier"===e[s+1].type){n.token_index+=1;var a=e[n.token_index].value;for(s=a.length-1;s>=0;--s)-1!==this.REGEX_FLAGS.indexOf(a.charAt(s))&&-1===i.indexOf(a.charAt(s))?i+=a.charAt(s):e[n.token_index].error("Invalid regular expression flags")}this.regex={pattern:r,flags:i},this.start=e[t].start,this.end=e[n.token_index].end,n.current_expression=this},on_register:s,statement_denotation:a}}).literal("Identifier",{is:n("true"),protos:o}).literal("Identifier",{is:n("false"),protos:o}).declaration_expression("SpecialCharacter",{is:function(e,t,n){return"/"===e.value&&t[n+1]&&t[n+1].start.index===e.end.index&&("/"===t[n+1].value||"*"===t[n+1].value)},suffix:!1,protos:{type:"Comment",precedence:40,initialize:function(e,t,n){var r=t+1;if(this.type=this.type,"*"===e[r].value){for(r+=1;e[r];){if("*"===e[r].value&&"/"===e[r+1].value&&e[r+1].start.index===e[r].end.index){n.token_index=r+1;break}++r}this.comment=n.code.substr(e[t].start.index+2,e[n.token_index].end.index-e[t].start.index-4),this.is_multiline=!0}else{for(var i=e[t].start.line;e[r];){if(!e[r+1]||i<e[r+1].start.line){n.token_index=r;break}++r}this.comment=n.code.substr(e[t].start.index+2,e[n.token_index].end.index-e[t].start.index-2),this.is_multiline=!1}this.start=e[t].start,this.end=e[n.token_index].end},statement_denotation:function(){return this}}}).declaration_expression("Identifier",{suffix:!1,protos:u}).declaration_expression("SpecialCharacter",{is:function(e){return"$"===e.value||"_"===e.value},suffix:!1,protos:u}).binary_expression("SpecialCharacter",{is:function(e){return","===e.value},suffix:!1,protos:{type:"Sequence",precedence:1,initialize:p.protos.initialize,left_denotation:function(e,t){var n=this.expressions=[e],r=1;for(this.start=e.start,t.advance();t.current_expression&&t.current_expression.precedence;)n[r++]=t.expression(1),t.current_expression&&t.current_expression.precedence&&(","===t.current_token.value?t.advance():t.current_token.error_unexpected_token());return this.end=n[n.length-1].end,this}}}).declaration_expression("SpecialCharacter",{is:function(e){return"{"===e.value},protos:{type:"CurlyBrackets",precedence:21,initialize:function(e,t,n){var r=n.current_token;if(n.advance(),"}"===n.current_token.value)return n.token_index=t,n.current_token=r,void(this.type=this.type);for(n.advance();n.current_expression&&"Comment"===n.current_expression.type;)n.advance();if(":"===n.current_token.value)return n.token_index=t,n.current_token=r,void(this.type="ObjectLiteral");n.token_index=t,n.current_token=r},on_register:function(e){e.Property=function(e,t){this.type=this.type,this.key=e,this.value=t,this.start=e.start,this.end=t.end},e.Property.prototype.type="Property"},null_denotation:function(e){var t,n=0,r=this.properties=[],i=e.current_token.start;for(e.advance();e.current_expression&&"Comment"===e.current_expression.type;)r[n++]=e.current_expression,e.advance();for(;e.current_token&&"}"!==e.current_token.value;)for(t=e.expression(0),":"===e.current_token.value?e.advance():e.current_token.error_unexpected_token(),r[n++]=new this.Property(t,e.expression(1)),","===e.current_token.value&&e.advance();e.current_expression&&"Comment"===e.current_expression.type;)r[n++]=e.current_expression,e.advance();return this.start=i,this.end=e.current_token.end,e.current_expression=this,this},statement:function(e){this.type="BlockStatement";var t=0,n=this.body=[];for(this.start=e.current_token.start,e.advance();e.current_expression&&e.current_expression.statement_denotation;e.advance())n[t++]=e.current_expression.statement_denotation(e);return"}"===e.current_token.value?this.end=e.current_token.end:e.current_token.error_unexpected_token(),this},statement_denotation:function(e){return"ObjectLiteral"===this.type?this.null_denotation(e):this.statement(e)}}}).declaration_expression("SpecialCharacter",{is:function(e){return"("===e.value},protos:{type:"Grouping",precedence:20,initialize:p.protos.initialize,get_params:function(e){var t=0,n=[];for(e.advance();e.current_token&&")"!==e.current_token.value;)switch("Identifier"===e.current_expression.type?(n[t++]=e.current_expression,e.advance()):e.current_token.error_unexpected_token(),e.current_token||console.error("Unexpected end"),e.current_token.value){case")":return n;case",":e.advance();break;default:e.current_token.error_unexpected_token()}return n},null_denotation:function(e){var t=e.current_token.start;return e.advance(),this.expression=e.expression(0),")"===e.current_token.value?(this.start=t,this.end=e.current_token.end,e.current_expression=this):e.current_token.error_unexpected_token(),this},on_register:s,statement_denotation:a}}).binary_expression("SpecialCharacter",{is:function(e){return"."===e.value},protos:{type:"Member",precedence:19,initialize:p.protos.initialize,left_denotation:function(e,t){for(this.object=e,t.advance();"Comment"===t.current_expression.type;)t.advance();return"Identifier"===t.current_expression.type||"Identifier"===t.current_token.type?(this.property=t.current_expression,this.is_computed=!1,this.start=e.start,this.end=this.property.end,t.advance_binary()):(console.log(22222222,t.current_expression,t.current_token),t.current_token.error_unexpected_token()),this}}}).binary_expression("SpecialCharacter",{is:function(e){return"["===e.value},protos:{type:"Member",precedence:19,initialize:p.protos.initialize,left_denotation:function(e,t){return this.object=e,t.advance(),this.property=t.expression(0),this.is_computed=!0,"]"===t.current_token.value?(this.start=e.start,this.end=t.current_token.end,t.advance_binary()):t.current_token.error_unexpected_token(),this}}}).binary_expression("SpecialCharacter",{is:function(e){return"("===e.value},protos:{type:"Call",precedence:18,initialize:p.protos.initialize,get_arguments:function(e,t){var n=0,r=t.arguments;e.advance();e:for(;e.current_token&&")"!==e.current_token.value;)switch(r[n++]=e.expression(1),e.current_token||console.error("Unexpected end"),","!==e.current_token.value&&")"!==e.current_token.value&&e.advance(),e.current_token.value){case",":e.advance();break;case")":break e;default:console.log(r[1],e.current_expression),e.current_token.error_unexpected_token()}t.end=e.current_token.end},left_denotation:function(e,t){switch(e.type){case"Identifier":case"CallExpression":case"MemberExpression":case"FunctionExpression":return this.callee=e,this.arguments=[],this.start=e.start,this.get_arguments(t,this),t.advance_binary(),this;case"NewExpression":return this.get_arguments(t,e),e.end=this.end,e;case"GroupingExpression":return console.log("WHAAAAAAAAAAAAAAAT ??????"),e}t.current_token.error_unexpected_token()}}}).unary_expression("Identifier",{is:n("new"),protos:{type:"New",precedence:18,initialize:p.protos.initialize,null_denotation:function(e){var t=e.current_token.start;return e.advance(),this.callee=e.expression(18),this.arguments=[],this.start=t,this.end=this.callee.end,e.current_expression&&"CallExpression"===e.current_expression.type&&(e.current_expression.get_arguments(e,this),this.precedence=19),e.current_expression=this,this},on_register:s,statement_denotation:a}}).binary_expression("SpecialCharacter",{is:function(e,t,n){switch(e.value){case"+":case"-":if(t[n+1]&&t[n+1].value===e.value&&t[n+1].start.index===e.end.index)return e.op=e.value+e.value,e.index=n+1,!0}},protos:{type:"Unary",precedence:17,initialize:r,left_denotation:function(e,t){return this.argument=e,this.is_prefix=!1,this.start=e.start,this.end=t.current_token.end,t.advance_binary(),this}}}).unary_expression("SpecialCharacter",{is:function(e,t,n){switch(e.value){case"!":case"~":if(t[n+1]&&"="!==t[n+1].value||t[n+1].start.index>e.end.index)return e.op=e.value,e.index=n,!0;break;case"+":case"-":if(t[n+1]&&t[n+1].value===e.value&&t[n+1].start.index===e.end.index)return e.op=e.value+e.value,e.index=n+1,!0;if("-"===e.value)return e.op="-",e.index=n,!0}},protos:c}).unary_expression("Identifier",{is:n("void"),protos:c}).unary_expression("Identifier",{is:n("typeof"),protos:c}).unary_expression("Identifier",{is:n("delete"),protos:c}).binary_expression("SpecialCharacter",{is:function(e,t,n){if("*"===e.value&&t[n+1]&&"*"===t[n+1].value&&t[n+1].start.index===e.end.index)return e.op="**",e.index=n+1,!0},protos:{type:"Exponentiation",precedence:15,initialize:r,left_denotation:p.protos.left_denotation}}).binary_expression("SpecialCharacter",{is:function(e,t,n){switch(e.value){case"*":case"/":case"%":return t[n+1]&&("="!==t[n+1].value||t[n+1].start.index>e.end.index)}},protos:p.make("Binary",14)}).binary_expression("SpecialCharacter",{is:function(e,t,n){switch(e.value){case"-":case"+":if("="!==t[n+1].value&&t[n+1].value!==e.value||t[n+1].start.index>e.end.index)return e.op=e.value,e.index=n,!0}},protos:p.make("Binary",13)}).binary_expression("SpecialCharacter",{is:function(e,t,n){switch(e.value){case">":if(">"===t[n+1].value&&t[n+1].start.index===e.end.index)return">"===t[n+2].value&&t[n+2].start.index===t[n+1].end.index?(e.op=">>>",e.index+=2,!0):(e.op=">>",e.index=n+1,!0);break;case"<":if("<"===t[n+1].value&&t[n+1].start.index===e.end.index)return e.op="<<",e.index=n+1,!0}},protos:{type:"BitwiseShift",precedence:12,initialize:r,left_denotation:p.protos.left_denotation}}).binary_expression("SpecialCharacter",{is:function(e,t,n){switch(e.value){case"<":case">":return t[n+1]&&"="===t[n+1].value&&t[n+1].start.index===e.end.index?(e.op=e.value+"=",e.index=n+1):(e.op=e.value,e.index=n),!0}},protos:{type:"Comparision",precedence:11,initialize:r,left_denotation:p.protos.left_denotation}}).binary_expression("Identifier",{is:n("in"),protos:p.make("In",11)}).binary_expression("Identifier",{is:n("instanceof"),protos:p.make("Instanceof",11)}).binary_expression("SpecialCharacter",{is:function(e,t,n){switch(e.value){case"=":case"!":if(t[n+1]&&"="===t[n+1].value&&t[n+1].start.index===e.end.index)return t[n+2]&&"="===t[n+2].value&&t[n+2].start.index===t[n+1].end.index?(e.op=e.value+"==",e.index=n+2,!0):(e.op=e.value+"=",e.index=n+1,!0)}},protos:{type:"Equality",precedence:10,initialize:r,left_denotation:p.protos.left_denotation}}).binary_expression("SpecialCharacter",{is:function(e,t,n){if("&"===e.value)return!t[n+1]||("&"!==t[n+1].value&&"="!==t[n+1].value||t[n+1].start.index>e.end.index)},protos:p.make("BitwiseAnd",9)}).binary_expression("SpecialCharacter",{is:function(e,t,n){if("^"===e.value)return!t[n+1]||("="!==t[n+1].value||t[n+1].start.index>e.end.index)},protos:p.make("BitwiseXor",8)}).binary_expression("SpecialCharacter",{is:function(e,t,n){if("|"===e.value)return!t[n+1]||("|"!==t[n+1].value&&"="!==t[n+1].value||t[n+1].start.index>e.end.index)},protos:p.make("BitwiseOr",7)}).binary_expression("SpecialCharacter",{is:function(e,t,n){if("&"===e.value&&t[n+1]&&"&"===t[n+1].value&&t[n+1].start.index===e.end.index)return e.op="&&",e.index=n+1,!0},protos:{type:"LogicalAnd",precedence:6,initialize:r,left_denotation:p.protos.left_denotation}}).binary_expression("SpecialCharacter",{is:function(e,t,n){if("|"===e.value&&t[n+1]&&"|"===t[n+1].value&&t[n+1].start.index===e.end.index)return e.op="||",e.index=n+1,!0},protos:{type:"LogicalOr",precedence:5,initialize:r,left_denotation:p.protos.left_denotation}}).binary_expression("SpecialCharacter",{is:function(e){return"?"===e.value},protos:{type:"Conditional",precedence:4,initialize:p.protos.initialize,left_denotation:function(e,t){return this.test=e,t.advance(),this.consequent=t.expression(0),":"===t.current_token.value?(t.advance(),this.alternate=t.expression(1)):t.current_token.error_unexpected_token(),this.start=e.start,this.end=this.alternate.end,this}}}).binary_expression("SpecialCharacter",{is:function(e,t,n){switch(e.value){case"=":if(!t[n+1]||"="!==t[n+1].value||t[n+1].start.index>e.end.index)return e.op="=",e.index=n,!0;break;case"+":case"-":case"*":case"/":case"%":case"&":case"|":case"^":if(t[n+1]&&"="===t[n+1].value&&t[n+1].start.index===e.end.index)return e.op=e.value+"=",e.index=n+1,!0;break;case"*":if(t[n+1]&&"*"===t[n+1].value&&t[n+1].start.index===e.end.index&&t[n+2]&&"="===t[n+2].value&&t[n+2].start.index===t[n+1].end.index)return e.op="**=",e.index=n+2,!0;break;case"<":if(t[n+1]&&"<"===t[n+1].value&&t[n+1].start.index===e.end.index&&t[n+2]&&"="===t[n+2].value&&t[n+2].start.index===t[n+1].end.index)return e.op="<<=",e.index=n+2,!0;break;case">":if(t[n+1]&&">"===t[n+1].value&&t[n+1].start.index===e.end.index&&t[n+2]&&"="===t[n+2].value&&t[n+2].start.index===t[n+1].end.index)return e.op=">>=",e.index=n+2,!0;break;case">>>=":if(t[n+1]&&">"===t[n+1].value&&t[n+1].start.index===e.end.index&&t[n+2]&&">"===t[n+2].value&&t[n+2].start.index===t[n+1].end.index&&t[n+3]&&"="===t[n+3].value&&t[n+3].start.index===t[n+2].end.index)return e.op=">>>=",e.index=n+3,!0}},protos:{type:"Assignment",precedence:3,initialize:r,left_denotation:p.protos.left_denotation}}).declaration_expression("Identifier",{is:n("function"),protos:{type:"Function",precedence:31,initialize:function(e,t,n){this.type=this.type;var r=n.current_token.start;return n.advance(),"Identifier"===n.current_expression.type?(this.id=n.current_expression,n.advance("(")):this.id=null,"("===n.current_token.value?this.parameters=n.current_expression.get_params(n):n.current_token.error_unexpected_token(),n.advance(),"{"===n.current_token.value?(this.body=n.current_expression.statement(n),this.start=r,this.end=this.body.end):n.current_token.error_unexpected_token(),n.current_expression=this,this},statement_denotation:function(){return this.type="FunctionDeclaration",this}}}),t.statement("SpecialCharacter",{is:function(e){return";"===e.value},protos:{type:"Empty",initialize:p.protos.initialize,statement_denotation:function(e){return this.start=e.current_token.start,this.end=e.current_token.end,this}}}).declaration_expression("Identifier",{is:n("var"),suffix:!1,protos:{type:"VariableDeclaration",precedence:31,on_register:function(e){e.VariableDeclarator=function(e){this.type=this.type,this.id=e,this.init=null,this.start=e.start},e.VariableDeclarator.prototype.type="VariableDeclarator"},initialize:function(e,t){this.type=this.type,this.declarations=[],this.start=e[t].start},statement_denotation:function(e){e.advance();for(var t;e.current_expression;){for(;"Comment"===e.current_expression.type;)this.declarations.push(e.current_expression),e.advance();if("Identifier"!==e.current_expression.type&&e.current_token.error(),t=this.declare(e.current_expression),e.advance_binary(),"="===e.current_expression.operator&&(e.advance(),t.init=e.expression(1)),t.end=t.init?t.init.end:t.id.end,e.current_token)switch(e.current_token.value){case",":e.advance();break;case";":return this.end=e.current_token.end,this;default:e.current_token.error_unexpected_token()}}return this},declare:function(e){return e=new this.VariableDeclarator(e),this.declarations.push(e),e}}});var d=function(e){var t=e.current_token.start;return e.advance(),";"===e.current_token.value?this.argument=null:(this.argument=e.expression(0),";"!==e.current_token.value&&(console.log("["+this.type+"EXPECT ;]",e.current_expression,this),e.current_token.error_unexpected_token())),this.start=t,this.end=e.current_token.end,this};t.statement("Identifier",{is:n("throw"),protos:{type:"Throw",precedence:31,initialize:p.protos.initialize,statement_denotation:d}}).statement("Identifier",{is:n("return"),protos:{type:"Return",precedence:31,initialize:p.protos.initialize,statement_denotation:d}});var l=function(e){var t=e.current_expression.start;return this.type=this.type,e.advance(),"Identifier"===e.current_expression.type?(this.label=e.current_expression,e.advance(";")):this.label=null,this.start=t,this.end=e.current_token.end,this};return t.statement("Identifier",{is:n("break"),protos:{type:"Break",precedence:31,initialize:p.protos.initialize,statement_denotation:l}}).statement("Identifier",{is:n("continue"),protos:{type:"Continue",precedence:31,initialize:p.protos.initialize,statement_denotation:l}}).statement("Identifier",{is:n("if"),protos:{type:"If",precedence:31,initialize:p.protos.initialize,statement_denotation:function(e){var t=e.current_token.start;e.advance("("),e.advance(),this.test=e.expression(0),e.advance(),this.statement=e.current_expression.statement_denotation(e);var n=e.token_index;return e.advance(),e.current_expression&&"else"===e.current_expression.name?(e.advance(),this.alternate=e.current_expression.statement_denotation(e)):(this.alternate=null,e.token_index=n),this.start=t,this.end=e.tokens[e.token_index].end,this}}}).statement("Identifier",{is:n("for"),protos:{type:"For",precedence:31,initialize:p.protos.initialize,on_register:function(e,t){e.ForInStatement=function(e,t){this.type=this.type,this.left=e,this.right=t},e.ForInStatement.prototype.type="ForInStatement",e.VariableDeclaration=t.constructors.VariableDeclaration},statement_denotation:function(e){var t=this,n=e.current_token.start;e.advance("(");var r=e.token_index;if(e.advance(),e.current_expression&&"VariableDeclaration"===e.current_expression.type){var i=new t.VariableDeclaration;if(i.type=i.type,i.declarations=[],i.start=e.current_expression.start,e.advance(),"Identifier"===e.current_expression.type)if(i.declare(e.current_expression),e.advance_binary(),e.current_expression&&"InExpression"===e.current_expression.type){e.advance();var s=e.expression(0);t=new t.ForInStatement(i,s)}else"="===e.current_expression.operator?(e.token_index=r,e.advance(),t.init=e.current_expression.statement_denotation(e)):e.current_token.error_unexpected_token();else e.current_token.error_unexpected_token()}else";"===e.current_token.value?t.init=null:t.init=e.expression(0);return";"===e.current_token.value?(e.advance(),";"===e.current_token.value?t.test=null:t.test=e.expression(0),e.advance(),t.update=e.expression(0)):t.init&&"InExpression"===t.init.type?t=new t.ForInStatement(t.init.left,t.init.right):"ForInStatement"!==t.type&&e.current_token.error_unexpected_token(),")"===e.current_token.value&&e.advance(),t.statement=e.current_expression.statement_denotation(e),t.start=n,t.end=e.current_token.end,t}}}).statement("Identifier",{is:n("while"),protos:{type:"While",precedence:31,initialize:p.protos.initialize,statement_denotation:function(e){var t=e.current_token.start;return e.advance("("),e.advance(),this.test=e.expression(0),")"===e.current_token.value?e.advance():e.current_token.error_unexpected_token(),this.statement=e.current_expression.statement_denotation(e),this.start=t,this.end=this.statement.end,this}}}).statement("Identifier",{is:n("do"),protos:{type:"DoWhile",precedence:31,initialize:p.protos.initialize,statement_denotation:function(e){var t=e.current_token.start;return e.advance(),this.statement=e.current_expression.statement_denotation(e),e.advance("while"),e.advance("("),e.advance(),this.test=e.expression(0),")"===e.current_token.value&&e.advance(),";"===e.current_token.value?(this.start=t,this.end=e.current_token.end):e.current_token.error_unexpected_token(),this}}}).statement("Identifier",{is:n("switch"),protos:{
type:"Switch",precedence:31,initialize:p.protos.initialize,statement_denotation:function(e){var t=e.current_expression.start;return e.advance("("),e.advance(),this.discriminant=e.expression(0,!0),")"===e.current_token.value?(e.advance("{"),this.cases=[],this.parse_cases(e,this.cases)):e.current_token.error_unexpected_token(),this.start=t,this.end=e.current_token.end,this},on_register:function(e){e.SwitchCase=function(){this.type=this.type},e.SwitchCase.prototype.type="SwitchCase",e.DefaultCase=function(){this.type=this.type,this.statements=[]},e.DefaultCase.prototype.type="DefaultCase"},parse_cases:function(e,t){var n,r;for(e.advance();"}"!==e.current_token.value;){switch(r=e.current_token.start,e.current_expression.name){case"case":n=new this.SwitchCase,e.advance(),n.test=e.expression(0),":"!==e.current_token.value&&e.current_token.error_unexpected_token();break;case"default":n=new this.DefaultCase,e.advance(":");break;default:e.current_token.error()}for(n.statements=[],n.start=r,n.end=e.current_token.end,e.advance();e.current_expression&&e.current_expression&&"}"!==e.current_token.value&&"case"!==e.current_expression.name&&"default"!==e.current_expression.name;)n.statements.push(e.current_expression.statement_denotation(e)),e.advance();n.statements.length&&(n.end=n.statements[n.statements.length-1].end),t.push(n)}}}}).statement("Identifier",{is:n("try"),protos:{type:"Try",precedence:31,initialize:p.protos.initialize,statement_denotation:function(e){var t,n=e.current_token.start;return e.advance("{"),this.block=e.current_expression.statement(e),e.advance(),"catch"===e.current_expression.name?(this.handler=this._catch(e),t=e.token_index,e.advance()):this.handler=null,"finally"===e.current_expression.name?(e.advance("{"),this.finalizer=e.current_expression.statement(e)):t?(this.finalizer=null,e.token_index=t,e.current_token=e.tokens[t]):console.error("Missing catch or finally after try"),this.start=n,this.end=e.current_token.end,this},on_register:function(e){e.CatchClause=function(){this.type=this.type},this.CatchClause.prototype.type="CatchClause"},_catch:function(e){var t=new this.CatchClause,n=e.current_expression.start;return e.advance("("),e.advance(),t.param=e.expression(1),")"===e.current_token.value&&(e.advance("{"),t.body=e.current_expression.statement(e),t.start=n,t.end=t.body.end),t}}}),t}).namespace("javascript.ES5_parser",["javascript.Scope","javascript.Parser","javascript.es5_tokenizer","javascript.es5_symbols"],function(e,t,n,r){return new t(n,r,e)}),t.namespace("javascript.es6_tokenizer",["javascript.es5_tokenizer"],function(e){var t=e.copy(),n=t.regions.hash;return t.language="ECMA Script 6",t.regions.register({type:"TemplateLiteral quasi string",start:null,escape_char:"\\",end:"${",until:!0,contained:!0}).register({type:"TemplateLiteral expression",start:"${",end:"}",contains:[{type:"Block"},{type:"Array"},{type:"String"},{type:"Comment"},{type:"Parenthesis"},{type:"SpecialCharacter",chars:["-","_","+","*","%","&","|","$","?","`","=","!","<",">","\\",":",".",",",";"]}]}).register({type:"TemplateLiteral",start:"`",end:"`",contains:[{type:"TemplateLiteral quasi string"},{type:"TemplateLiteral expression"}],keepend:!0}),n["{"][0].contains.push({type:"TemplateLiteral"}),n["("][0].contains.push({type:"TemplateLiteral"}),n["["][0].contains.push({type:"TemplateLiteral"}),t}),t.namespace("javascript.ES6_parser",["javascript.ES5_parser"],function(e){e=e.copy();return e.symbols.literal("SpecialCharacter",{is:function(e){return"`"===e.value},protos:{type:"Template",precedence:21,initialize:function(e,t,n){this.type=this.type,this.start=n.current_token.start;for(var r,i=t+1,s=0,a=i,o=this.body=[];e[i];)if("\\"!==e[i].value){if("$"===e[i].value&&"{"===e[i+1].value&&e[i+1].start.index===e[i].end.index&&(i>a&&(o[s++]=new this.TemplateLiteralString(e[a].start,e[i-1].end,n.code.substr(e[a].start.index,e[i].start.index-e[a].start.index))),n.token_index=i+1,n.advance(),r=n.expression(0),"}"===n.current_token.value&&(o[s++]=new this.TemplateLiteralExpression(e[i].start,e[n.token_index].end,r),i=a=n.token_index+1)),"`"===e[i].value){i>a&&(o[s++]=new this.TemplateLiteralString(e[a].start,e[i-1].end,n.code.substr(e[a].start.index,e[i].start.index-e[a].start.index))),n.token_index=i;break}++i}else i+=2;this.end=e[n.token_index].end},on_register:function(e){e.TemplateLiteralString=function(e,t,n){this.type=this.type,this.value=n,this.start=e,this.end=t},e.TemplateLiteralString.prototype.type="TemplateLiteralString",e.TemplateLiteralExpression=function(e,t,n){this.type=this.type,this.expression=n,this.start=e,this.end=t},e.TemplateLiteralExpression.prototype.type="TemplateLiteralExpression"}}}).statement("Identifier",{is:function(e){return function(t,n,r){if(t.value===e){if(n[r+1]&&n[r+1].start.index===t.end.index)switch(n[r+1].type){case"Number":return!1;case"SpecialCharacter":return"_"!==n[r+1].value&&"$"!==n[r+1].value&&(t.op=t.value,t.index=r,!0)}return t.op=t.value,t.index=r,!0}}}("export"),protos:{type:"Export",precedence:31,initialize:function(){this.type=this.type},statement_denotation:function(e){var t=e.current_token.start;if(e.advance(),e.current_expression&&"default"===e.current_expression.name)if(e.advance(),e.current_expression){if("FunctionExpression"===e.current_expression.type)return this.declaration=e.current_expression,this.declaration.type="FunctionDeclaration",this.start=t,this.end=this.declaration.end,this;if(this.declaration=e.expression(0),";"===e.current_token.value)return this.start=t,this.end=this.declaration.end,this;e.current_token.error_unexpected_token()}else console.error("ERRRRRRRRRRR export expression")}}}),e})})}(window.jeefo,window,document);